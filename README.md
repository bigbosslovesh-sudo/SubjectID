# AI å•†å“ä¸»ä½“æŠ å›¾å·¥å…·

åŸºäº 302.ai çš„æ™ºèƒ½å•†å“å›¾ç‰‡å¤„ç†å·¥å…·ï¼Œæ”¯æŒè‡ªåŠ¨è¯†åˆ«å•†å“ä¸»ä½“å¹¶ç”Ÿæˆé€æ˜èƒŒæ™¯å›¾ç‰‡ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ¯ **æ™ºèƒ½è¯†åˆ«**ï¼šè‡ªåŠ¨è¯†åˆ«å›¾ç‰‡ä¸­çš„å•†å“ä¸»ä½“
- âœ‚ï¸ **ç²¾ç¡®è£åˆ‡**ï¼šAI åˆ†æå•†å“è¾¹ç•Œæ¡†ï¼Œç²¾ç¡®æå–ä¸»ä½“
- ğŸ–¼ï¸ **é€æ˜èƒŒæ™¯**ï¼šç”Ÿæˆé«˜è´¨é‡é€æ˜èƒŒæ™¯ PNG å›¾ç‰‡
- ğŸ“¦ **æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒå¤šå¼ å›¾ç‰‡åŒæ—¶å¤„ç†å’Œæ‰“åŒ…ä¸‹è½½
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾é€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- ğŸ§¹ **è‡ªåŠ¨æ¸…ç†**ï¼šå®šæ—¶æ¸…ç†ä¸´æ—¶æ–‡ä»¶ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´

## æŠ€æœ¯æ ˆ

- **åç«¯**ï¼šNode.js + Express-like HTTP Server
- **å›¾åƒå¤„ç†**ï¼šSharp + Jimp
- **AI æœåŠ¡**ï¼š302.ai Gemini API
- **å‰ç«¯**ï¼šåŸç”Ÿ HTML/CSS/JavaScript
- **æ–‡ä»¶å¤„ç†**ï¼šFormidable + Archiver

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm æˆ– yarn

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ 302.ai API Key
nano .env
```

### 4. å¯åŠ¨æœåŠ¡

```bash
# å¼€å‘æ¨¡å¼
npm run dev

# ç”Ÿäº§æ¨¡å¼
npm start
```

### 5. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3000

## ç¯å¢ƒå˜é‡é…ç½®

| å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ |
|--------|------|--------|
| `API_KEY` | 302.ai API å¯†é’¥ | å¿…é¡»é…ç½® |
| `API_URL` | 302.ai API ç«¯ç‚¹ | https://api.302ai.cn/v1/chat/completions |
| `MODEL_NAME` | AI æ¨¡å‹åç§° | gemini-2.5-flash |
| `NODE_ENV` | è¿è¡Œç¯å¢ƒ | development |
| `PORT` | æœåŠ¡ç«¯å£ | 3000 |

## ä½¿ç”¨è¯´æ˜

### å•å¼ å›¾ç‰‡å¤„ç†

1. é€‰æ‹©"å•å¼ å›¾ç‰‡"æ¨¡å¼
2. ä¸Šä¼ åŒ…å«å•†å“çš„å›¾ç‰‡ï¼ˆæ”¯æŒ JPGã€PNGã€GIFï¼Œæœ€å¤§ 10MBï¼‰
3. ç‚¹å‡»"å¼€å§‹æŠ å›¾å¤„ç†"
4. ç­‰å¾… AI åˆ†æå’Œå¤„ç†
5. ä¸‹è½½å¤„ç†åçš„å•†å“ä¸»ä½“å›¾

### æ‰¹é‡å›¾ç‰‡å¤„ç†

1. é€‰æ‹©"æ‰¹é‡å¤„ç†"æ¨¡å¼
2. æ‹–æ‹½å¤šå¼ å›¾ç‰‡æˆ–æ•´ä¸ªæ–‡ä»¶å¤¹
3. ç‚¹å‡»"å¼€å§‹æ‰¹é‡å¤„ç†"
4. ç­‰å¾…æ‰€æœ‰å›¾ç‰‡å¤„ç†å®Œæˆ
5. ç‚¹å‡»"æ‰“åŒ…ä¸‹è½½å…¨éƒ¨"è·å– ZIP æ–‡ä»¶

## éƒ¨ç½²æŒ‡å—

### Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# æ„å»ºé•œåƒ
docker build -t ai-product-extractor .

# è¿è¡Œå®¹å™¨
docker run -d \
  --name ai-extractor \
  -p 3000:3000 \
  -e API_KEY=your_302ai_api_key \
  -e NODE_ENV=production \
  ai-product-extractor
```

### PM2 éƒ¨ç½²

```bash
# å®‰è£… PM2
npm install -g pm2

# å¯åŠ¨åº”ç”¨
pm2 start index.js --name "ai-extractor"

# ä¿å­˜é…ç½®
pm2 save
pm2 startup
```

### ç³»ç»ŸæœåŠ¡éƒ¨ç½²

```bash
# åˆ›å»ºç³»ç»ŸæœåŠ¡æ–‡ä»¶
sudo nano /etc/systemd/system/ai-extractor.service

# å¯åŠ¨æœåŠ¡
sudo systemctl enable ai-extractor
sudo systemctl start ai-extractor
```

## æ€§èƒ½ä¼˜åŒ–

### æ—¥å¿—ç®¡ç†

- å¼€å‘ç¯å¢ƒï¼šæ˜¾ç¤ºè¯¦ç»†è°ƒè¯•æ—¥å¿—
- ç”Ÿäº§ç¯å¢ƒï¼šä»…æ˜¾ç¤ºå…³é”®ä¿¡æ¯å’Œé”™è¯¯æ—¥å¿—

### æ–‡ä»¶æ¸…ç†

- è‡ªåŠ¨æ¸…ç† 24 å°æ—¶å‰çš„ä¸´æ—¶æ–‡ä»¶
- ä¿ç•™æœ€æ–° 10 ä¸ªæ‰“åŒ…æ–‡ä»¶
- å¯åŠ¨æ—¶æ‰§è¡Œä¸€æ¬¡æ¸…ç†
- æ¯å°æ—¶å®šæ—¶æ¸…ç†

### å†…å­˜ä¼˜åŒ–

- å›¾ç‰‡å‹ç¼©åå†å‘é€ API
- åŠæ—¶é‡Šæ”¾ä¸´æ—¶æ–‡ä»¶
- åˆ†æ‰¹å¤„ç†å¤§é‡å›¾ç‰‡

## API æ¥å£

### POST /process-image

å¤„ç†å•å¼ å›¾ç‰‡

**è¯·æ±‚**ï¼š
- Content-Type: multipart/form-data
- Body: image æ–‡ä»¶

**å“åº”**ï¼š
```json
{
  "success": true,
  "processedImageUrl": "/processed/filename.png"
}
```

### POST /package-results

æ‰“åŒ…æ‰¹é‡å¤„ç†ç»“æœ

**è¯·æ±‚**ï¼š
```json
{
  "urls": ["/processed/file1.png", "/processed/file2.png"]
}
```

**å“åº”**ï¼š
```json
{
  "success": true,
  "downloadUrl": "/processed/batch_timestamp.zip",
  "fileCount": 2,
  "zipSize": 1024000
}
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **API Key æœªé…ç½®**
   - ç¡®ä¿ .env æ–‡ä»¶ä¸­å·²æ­£ç¡®é…ç½® API_KEY

2. **å›¾ç‰‡å¤„ç†å¤±è´¥**
   - æ£€æŸ¥å›¾ç‰‡æ ¼å¼å’Œå¤§å°é™åˆ¶
   - ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸

3. **æ‰¹é‡ä¸‹è½½å¤±è´¥**
   - æ£€æŸ¥å¤„ç†åçš„æ–‡ä»¶æ˜¯å¦å­˜åœ¨
   - ç¡®è®¤æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´

### æ—¥å¿—æŸ¥çœ‹

```bash
# å®æ—¶æŸ¥çœ‹æ—¥å¿—
tail -f logs/app.log

# PM2 æ—¥å¿—
pm2 logs ai-extractor
```

## è®¸å¯è¯

ISC License

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-09-19)
- é¦–æ¬¡å‘å¸ƒ
- æ”¯æŒå•å¼ å’Œæ‰¹é‡å›¾ç‰‡å¤„ç†
- é›†æˆ 302.ai API
- å“åº”å¼ UI è®¾è®¡
- è‡ªåŠ¨æ–‡ä»¶æ¸…ç†æœºåˆ¶